# ‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ Module Federation

## üî• ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: Hot Reload Mode (‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)

### Terminal 1: ‡∏£‡∏±‡∏ô Remote ‡∏î‡πâ‡∏ß‡∏¢ Hot Reload

```bash
cd sales-visitor
npm run build  # Build ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
npm run dev:hot  # ‡∏£‡∏±‡∏ô watch mode + preview server
```

‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `npm run dev:hot` ‡∏à‡∏∞:
- ‡∏£‡∏±‡∏ô build watch mode (‡∏à‡∏∞ build ‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏Ñ‡πâ‡∏î)
- ‡∏£‡∏±‡∏ô preview server ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Remote code:**
1. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå
2. ‡∏£‡∏≠ build ‡πÄ‡∏™‡∏£‡πá‡∏à (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 1-2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
3. Refresh ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏´‡∏ô‡πâ‡∏≤ Host

---

### Terminal 2: ‡∏£‡∏±‡∏ô Portal

```bash
cd portal
npm run dev
```

Portal ‡∏°‡∏µ Hot Reload ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

---

### ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå

‡πÑ‡∏õ‡∏ó‡∏µ‡πà http://localhost:5000

1. ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Login
2. ‡∏Å‡∏£‡∏≠‡∏Å username ‡πÅ‡∏•‡∏∞ password ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ
3. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"
4. ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å redirect ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Main ‡∏ó‡∏µ‡πà http://localhost:5000/main
5. Remote Module ‡∏à‡∏∞‡πÇ‡∏´‡∏•‡∏î‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Main

---

## üìù ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤:

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Portal Code:
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô `portal/src/`
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‚Üí Hot reload ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‚úÖ

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Remote Code:
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô `sales-visitor/src/`
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‚Üí ‡∏£‡∏≠ build 1-2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- **Hard Refresh browser:** `Ctrl+Shift+R` (Windows/Linux) ‡∏´‡∏£‡∏∑‡∏≠ `Cmd+Shift+R` (Mac)

‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡∏ï‡πâ‡∏≠‡∏á Hard Refresh ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ browser ‡∏à‡∏∞ cache `remoteEntry.js` ‡πÑ‡∏ß‡πâ

üí° **Tips:** ‡πÄ‡∏õ‡∏¥‡∏î DevTools (F12) ‚Üí Tab "Network" ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ "Disable cache" ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á hard refresh ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

---

## üêå ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° (‡πÑ‡∏°‡πà‡∏°‡∏µ Watch Mode):

‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ watch mode ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏î‡πâ:

### Terminal 1: ‡∏£‡∏±‡∏ô Remote ‡πÅ‡∏ö‡∏ö Preview

```bash
cd sales-visitor
npm run build
npm run preview
```

### Terminal 2: ‡∏£‡∏±‡∏ô Portal

```bash
cd portal
npm run dev
```

### ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Remote Code:

1. **‡∏´‡∏¢‡∏∏‡∏î** npm run preview (Ctrl+C)
2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô sales-visitor
3. **Build ‡πÉ‡∏´‡∏°‡πà**: `npm run build`
4. **‡∏£‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà**: `npm run preview`
5. Refresh ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå

---

## ‚úÖ ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Remote ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
‡πÑ‡∏õ‡∏ó‡∏µ‡πà: http://localhost:5001/assets/remoteEntry.js

‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô JavaScript code ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ command line
```bash
curl http://localhost:5001/assets/remoteEntry.js
```

‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ JS code ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà HTML) ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß

---

## üèóÔ∏è Production Build:

### Build ‡∏ó‡∏±‡πâ‡∏á 2 ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:

```bash
# Build Remote
cd sales-visitor
npm run build

# Build Portal
cd portal
npm run build
```

### Preview ‡∏ó‡∏±‡πâ‡∏á 2:

```bash
# Terminal 1
cd sales-visitor
npm run preview

# Terminal 2
cd portal
npm run preview
```

‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà http://localhost:5000

---

## üîß Script ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ:

### Remote (sales-visitor):
- `npm run dev` - ‡∏£‡∏±‡∏ô dev server ‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÑ‡∏°‡πà‡∏°‡∏µ remoteEntry.js)
- `npm run build` - Build ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
- `npm run build:watch` - Build ‡πÅ‡∏ö‡∏ö watch mode (build ‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
- `npm run preview` - ‡∏£‡∏±‡∏ô preview server
- `npm run dev:hot` - ‡∏£‡∏±‡∏ô watch + preview ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥! üî•)

### Portal:
- `npm run dev` - ‡∏£‡∏±‡∏ô dev server (‡∏°‡∏µ hot reload)
- `npm run build` - Build ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
- `npm run preview` - ‡∏£‡∏±‡∏ô preview server

---

## üí° Tips:

1. **Remote ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô Portal ‡πÄ‡∏™‡∏°‡∏≠** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Portal ‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏´‡∏•‡∏î remoteEntry.js ‡∏à‡∏≤‡∏Å Remote
2. **‡πÉ‡∏ä‡πâ `npm run dev:hot`** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Remote ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
3. **Hard Refresh ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ Remote** (`Ctrl+Shift+R`) ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ browser ‡∏à‡∏∞ cache remoteEntry.js
4. **‡πÄ‡∏õ‡∏¥‡∏î DevTools ‡πÅ‡∏•‡∏∞ Disable Cache** ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á hard refresh ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á:
   - ‡∏Å‡∏î F12
   - ‡πÑ‡∏õ Tab "Network"
   - ‡πÄ‡∏ä‡πá‡∏Ñ "Disable cache"
   - ‡πÄ‡∏õ‡∏¥‡∏î DevTools ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏ï‡∏•‡∏≠‡∏î
5. **‡∏î‡∏π Console** ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ error ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
